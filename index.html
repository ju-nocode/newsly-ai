<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsly AI - Votre NewsWall Personnalis√© Aliment√© par IA</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üì∞</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="public/css/styles.css">
    <script src="public/js/browser-detect.js"></script>
</head>
<body>
    <!-- Particles.js Background -->
    <!-- D√âSACTIV√â - Conflit avec Aurora et Dark/Light Mode
    <div id="particles-js"></div>
    -->
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <img src="https://img.icons8.com/ios-filled/50/FFFFFF/news.png" alt="Newsly AI" class="logo-icon icon-white" style="width: 1.75rem; height: 1.75rem;">
                <span class="logo-text">
                    <span class="aurora-text">
                        Newsly AI
                        <span class="aurora-wrapper" aria-hidden="true">
                            <span class="aurora__item"></span>
                            <span class="aurora__item"></span>
                            <span class="aurora__item"></span>
                            <span class="aurora__item"></span>
                        </span>
                    </span>
                </span>
            </a>

            <div class="nav-links">
                <!-- Burger Menu -->
                <button class="burger-menu" id="burgerBtnIndex">
                    <span class="burger-line"></span>
                    <span class="burger-line"></span>
                    <span class="burger-line"></span>
                </button>

                <!-- Burger Dropdown Menu -->
                <div class="burger-dropdown" id="burgerMenuIndex">
                    <!-- User Info (hidden si non connect√©) -->
                    <div class="burger-user-info" id="burgerUserInfoIndex" style="display: none;">
                        <img id="burgerAvatarImageIndex" class="burger-user-avatar" src="https://ui-avatars.com/api/?name=User&background=3ecf8e&color=fff&size=72" alt="Avatar">
                        <span id="userNameDisplayIndex" class="burger-user-name">User: User</span>
                    </div>

                    <!-- Auth Buttons (cach√©s si connect√©) -->
                    <div id="burgerAuthButtons">
                        <button class="burger-link" id="openLoginBtn">
                            <img src="https://img.icons8.com/ios-filled/50/000000/lock-2.png" alt="Login" class="icon-secondary" style="width: 1.5rem; height: 1.5rem;">
                            <span data-i18n="auth.login">Connexion</span>
                        </button>

                        <button class="burger-link" id="openSignupBtn">
                            <img src="https://img.icons8.com/ios-filled/50/000000/star--v1.png" alt="Signup" class="icon-secondary" style="width: 1.5rem; height: 1.5rem;">
                            <span data-i18n="auth.signup">Cr√©er un compte</span>
                        </button>
                    </div>

                    <div class="burger-divider"></div>

                    <!-- Language Toggle avec Switch -->
                    <div class="burger-item">
                        <div class="burger-item-label">
                            <img src="https://img.icons8.com/ios-filled/50/000000/globe.png" alt="Language" class="icon-secondary" style="width: 1.5rem; height: 1.5rem;">
                            <span id="langLabel">Fran√ßais / English</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="langToggleIndex">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <!-- Dashboard link (affich√© si connect√©) -->
                    <button class="burger-link" id="dashboardLinkIndex" style="display: none;">
                        <img src="https://img.icons8.com/ios-filled/50/000000/dashboard.png" alt="Dashboard" class="icon-secondary" style="width: 1.5rem; height: 1.5rem;">
                        <span data-i18n="nav.dashboard">Dashboard</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Auth Buttons Section -->
    <section class="auth-section">
        <div class="auth-container">
            <h1 class="auth-title">
                <span class="aurora-text">
                    Newsly AI
                    <span class="aurora-wrapper" aria-hidden="true">
                        <span class="aurora__item"></span>
                        <span class="aurora__item"></span>
                        <span class="aurora__item"></span>
                        <span class="aurora__item"></span>
                    </span>
                </span>
            </h1>
            <p class="auth-subtitle">Votre NewsWall Personnalis√© Aliment√© par l'IA</p>
            <div class="auth-buttons">
                <button class="btn-primary" id="heroSignupBtn">Cr√©er un compte</button>
                <button class="btn-primary" id="heroLoginBtn">Se Connecter</button>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="features-container">
            <h2 class="section-title">Pourquoi choisir Newsly AI ?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon"><img src="https://img.icons8.com/ios-filled/100/000000/bot.png" alt="AI" class="icon-muted" style="width: 3.5rem; height: 3.5rem;"></div>
                    <h3 class="feature-title">Filtrage Intelligent par IA</h3>
                    <p class="feature-description">
                        Notre IA analyse et filtre les actualit√©s pour ne vous pr√©senter que l'essentiel,
                        adapt√© √† vos pr√©f√©rences.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><img src="https://img.icons8.com/ios-filled/100/000000/bullseye.png" alt="Target" class="icon-muted" style="width: 3.5rem; height: 3.5rem;"></div>
                    <h3 class="feature-title">Personnalisation Avanc√©e</h3>
                    <p class="feature-description">
                        Choisissez vos cat√©gories favorites : technologie, business, science, sports et bien plus.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><img src="https://img.icons8.com/ios-filled/100/000000/lightning-bolt.png" alt="Real-time" class="icon-muted" style="width: 3.5rem; height: 3.5rem;"></div>
                    <h3 class="feature-title">Mises √† jour en Temps R√©el</h3>
                    <p class="feature-description">
                        Restez toujours √† jour avec les derni√®res actualit√©s rafra√Æchies en temps r√©el.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><img src="https://img.icons8.com/ios-filled/100/000000/pin.png" alt="Pin" class="icon-muted" style="width: 3.5rem; height: 3.5rem;"></div>
                    <h3 class="feature-title">Sauvegardez vos Favoris</h3>
                    <p class="feature-description">
                        Gardez une trace des articles importants et acc√©dez-y √† tout moment.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><img src="https://img.icons8.com/ios-filled/100/000000/globe.png" alt="Globe" class="icon-muted" style="width: 3.5rem; height: 3.5rem;"></div>
                    <h3 class="feature-title">Sources Multiples</h3>
                    <p class="feature-description">
                        Acc√©dez √† des milliers de sources d'information du monde entier, toutes au m√™me endroit.
                    </p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon"><img src="https://img.icons8.com/ios-filled/100/000000/lock-2.png" alt="Security" class="icon-muted" style="width: 3.5rem; height: 3.5rem;"></div>
                    <h3 class="feature-title">100% S√©curis√©</h3>
                    <p class="feature-description">
                        Vos donn√©es sont prot√©g√©es avec les derni√®res technologies de s√©curit√©.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works">
        <div class="how-it-works-container">
            <h2 class="section-title">Comment √ßa marche ?</h2>
            <p class="section-subtitle">Trois √©tapes simples pour rester inform√©</p>

            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-icon"><img src="https://img.icons8.com/ios-filled/100/000000/user.png" alt="User" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="step-title">Cr√©ez votre compte</h3>
                    <p class="step-description">
                        Inscrivez-vous gratuitement en quelques secondes. Aucune carte bancaire requise.
                    </p>
                </div>

                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-icon"><img src="https://img.icons8.com/ios-filled/100/000000/settings.png" alt="Settings" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="step-title">Personnalisez vos pr√©f√©rences</h3>
                    <p class="step-description">
                        Choisissez vos cat√©gories favorites et les pays qui vous int√©ressent.
                    </p>
                </div>

                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-icon"><img src="https://img.icons8.com/ios-filled/100/000000/news.png" alt="News" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="step-title">Profitez de l'actualit√©</h3>
                    <p class="step-description">
                        Recevez un flux personnalis√© d'actualit√©s pertinentes, mises √† jour en temps r√©el.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Preview -->
    <section class="categories-preview">
        <div class="categories-container">
            <h2 class="section-title category-section-title">Explorez nos Cat√©gories</h2>
            <div class="categories-grid">
                <div class="category-preview">
                    <div class="category-preview-icon"><img src="https://img.icons8.com/ios-filled/100/000000/briefcase.png" alt="Business" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="category-name">Business</h3>
                    <p class="category-desc">√âconomie et finance</p>
                </div>
                <div class="category-preview">
                    <div class="category-preview-icon"><img src="https://img.icons8.com/ios-filled/100/000000/laptop.png" alt="Technology" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="category-name">Technologie</h3>
                    <p class="category-desc">Innovation et tech</p>
                </div>
                <div class="category-preview">
                    <div class="category-preview-icon"><img src="https://img.icons8.com/ios-filled/100/000000/test-tube.png" alt="Science" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="category-name">Science</h3>
                    <p class="category-desc">D√©couvertes scientifiques</p>
                </div>
                <div class="category-preview">
                    <div class="category-preview-icon"><img src="https://img.icons8.com/ios-filled/100/000000/heart-with-pulse.png" alt="Health" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="category-name">Sant√©</h3>
                    <p class="category-desc">Bien-√™tre et m√©decine</p>
                </div>
                <div class="category-preview">
                    <div class="category-preview-icon"><img src="https://img.icons8.com/ios-filled/100/000000/football2.png" alt="Sports" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="category-name">Sports</h3>
                    <p class="category-desc">R√©sultats et actualit√©s sportives</p>
                </div>
                <div class="category-preview">
                    <div class="category-preview-icon"><img src="https://img.icons8.com/ios-filled/100/000000/retro-tv.png" alt="Entertainment" class="icon-muted" style="width: 3rem; height: 3rem;"></div>
                    <h3 class="category-name">Divertissement</h3>
                    <p class="category-desc">Cin√©ma, musique, culture</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-brand">
                        <img src="https://img.icons8.com/ios-filled/50/000000/news.png" alt="News" class="footer-logo-icon icon-muted" style="width: 1.5rem; height: 1.5rem;">
                        <span>Newsly AI</span>
                    </div>
                    <p class="footer-text">
                        Votre NewsWall personnalis√© aliment√© par l'intelligence artificielle
                    </p>
                </div>

                <div class="footer-section">
                    <h3 class="footer-title">Produit</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="#features">Fonctionnalit√©s</a></li>
                        <li><a href="#how-it-works">Comment √ßa marche</a></li>
                    </ul>
                </div>

                <div class="footer-section" id="appLinksSection" style="display: none;">
                    <h3 class="footer-title">Application</h3>
                    <ul class="footer-links">
                        <li><a href="dashboard.html">Dashboard</a></li>
                        <li><a href="settings.html">Param√®tres</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3 class="footer-title">Ressources</h3>
                    <ul class="footer-links">
                        <li><a href="https://newsapi.org" target="_blank" rel="noopener">NewsAPI</a></li>
                        <li><a href="https://icons8.com" target="_blank" rel="noopener">Icons8</a></li>
                        <li><a href="https://particles.js.org" target="_blank" rel="noopener">Particles.js</a></li>
                        <li><a href="https://supabase.com" target="_blank" rel="noopener">Supabase</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 Newsly AI. D√©velopp√© avec ‚ù§Ô∏è par <a href="https://www.linkedin.com/in/fr-richard-julien/" target="_blank" rel="noopener" style="color: var(--primary); text-decoration: none;">Julien Richard</a></p>
                <div class="footer-social">
                    <a href="https://github.com/ju-nocode/newsly-ai" target="_blank" rel="noopener" aria-label="GitHub"><img src="https://img.icons8.com/ios-filled/50/000000/github.png" alt="GitHub" class="icon-muted" style="width: 1.5rem; height: 1.5rem;"></a>
                    <a href="https://www.linkedin.com/in/fr-richard-julien/" target="_blank" rel="noopener" aria-label="LinkedIn"><img src="https://img.icons8.com/ios-filled/50/000000/linkedin.png" alt="LinkedIn" class="icon-muted" style="width: 1.5rem; height: 1.5rem;"></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Auth Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="modal-container">
            <button class="modal-close" id="closeModal">&times;</button>

            <!-- Login Form -->
            <div class="modal-content" id="loginForm">
                <h2 class="modal-title" data-i18n="auth.loginTitle">Connexion</h2>
                <p class="modal-subtitle" data-i18n="auth.loginSubtitle">Connectez-vous √† votre compte</p>

                <form class="auth-form" id="loginFormElement">
                    <div class="form-group">
                        <label class="form-label" data-i18n="auth.email">Email</label>
                        <input type="email" class="form-input" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="auth.password">Mot de passe</label>
                        <input type="password" class="form-input" id="loginPassword" required>
                    </div>
                    <div id="loginError" class="error-message" style="display: none;"></div>
                    <button type="submit" class="btn-submit" data-i18n="auth.loginBtn">Se connecter</button>
                </form>

                <p class="modal-footer">
                    <span data-i18n="auth.noAccount">Pas de compte ?</span> <a href="#" id="switchToSignup" data-i18n="auth.createAccount">Cr√©er un compte</a>
                </p>
            </div>

            <!-- Signup Form (Flip Card) -->
            <div class="modal-content" id="signupForm" style="display: none;">
                <div class="signup-flip-container">
                    <div class="signup-flip-card" id="signupFlipCard">

                        <!-- FACE AVANT - √âtape 1: Email & Password -->
                        <div class="signup-flip-face signup-flip-front">
                            <h2 class="modal-title">Cr√©er un compte</h2>
                            <p class="modal-subtitle">√âtape 1/2 - Informations de connexion</p>

                            <form class="auth-form" id="signupStep1Form">
                                <div class="form-group">
                                    <label class="form-label">Email <span style="color: var(--error);">*</span></label>
                                    <input type="email" class="form-input" id="signupEmail" required placeholder="exemple@email.com">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Mot de passe <span style="color: var(--error);">*</span></label>
                                    <input type="password" class="form-input" id="signupPassword" required placeholder="Min. 8 caract√®res">
                                    <p class="form-hint">Le mot de passe doit contenir au moins 8 caract√®res</p>
                                </div>
                                <div id="signupStep1Error" class="error-message" style="display: none;"></div>
                                <button type="submit" class="btn-submit">Suivant ‚Üí</button>
                            </form>

                            <p class="modal-footer">
                                <span>D√©j√† un compte ?</span> <a href="#" id="switchToLogin">Se connecter</a>
                            </p>
                        </div>

                        <!-- FACE ARRI√àRE - √âtape 2: Profil complet -->
                        <div class="signup-flip-face signup-flip-back">
                            <h2 class="modal-title">Compl√©ter votre profil</h2>
                            <p class="modal-subtitle">√âtape 2/2 - Informations personnelles</p>

                            <form class="auth-form" id="signupStep2Form">
                                <div class="form-group">
                                    <label class="form-label">Nom d'utilisateur <span style="color: var(--error);">*</span></label>
                                    <input type="text" class="form-input" id="signupUsername" required placeholder="@MonNom">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Nom complet <span style="color: var(--error);">*</span></label>
                                    <input type="text" class="form-input" id="signupFullName" required placeholder="Julien RICHARD">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Pays <span style="color: var(--error);">*</span></label>
                                    <select class="form-input" id="signupCountry" required>
                                        <option value="">-- S√©lectionnez --</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Ville <span style="color: var(--error);">*</span></label>
                                    <input type="text" class="form-input" id="signupCity" required placeholder="Bordeaux">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">T√©l√©phone (optionnel)</label>
                                    <div style="display: flex; gap: 0.5rem;">
                                        <select id="signupPhoneCode" class="form-input" style="width: 120px;">
                                            <!-- Options peupl√©es dynamiquement depuis countries.js -->
                                        </select>
                                        <input type="tel" class="form-input" id="signupPhone" placeholder="6 12 34 56 78" style="flex: 1;">
                                    </div>
                                </div>
                                <div id="signupStep2Error" class="error-message" style="display: none;"></div>
                                <div style="display: flex; gap: 0.5rem;">
                                    <button type="button" class="btn-primary" id="signupBackBtn" style="flex: 1;">‚Üê Retour</button>
                                    <button type="submit" class="btn-submit" id="signupFinalBtn" style="flex: 2;">Cr√©er mon compte</button>
                                </div>
                            </form>
                        </div>

                    </div>

                    <!-- LOADER - Chargement -->
                    <div class="signup-loader" id="signupLoader">
                        <div class="spinner"></div>
                        <h3 style="color: var(--text-primary); margin-bottom: 0.5rem; font-size: 1.25rem; font-weight: 600;">Cr√©ation de votre compte...</h3>
                        <p style="color: var(--text-secondary); font-size: 0.95rem;">Veuillez patienter</p>
                        <div id="emailSentNotification" style="display: none; margin-top: 1rem; padding: 0.75rem 1rem; background: #d1fae5; border-radius: 8px; border-left: 3px solid #10b981;">
                            <p style="margin: 0; color: #047857; font-weight: 500; font-size: 0.9rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.25rem;">üìß</span>
                                <span>Email de confirmation envoy√© ‚Äî consultez votre bo√Æte mail</span>
                            </p>
                        </div>
                    </div>

                    <!-- SUCCESS - Compte cr√©√© -->
                    <div class="signup-success" id="signupSuccess">
                        <div class="success-checkmark"></div>
                        <div id="confettiContainer" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden;"></div>
                        <h2 class="modal-title" style="color: var(--success);">Compte cr√©√© avec succ√®s !</h2>
                        <p class="modal-subtitle" style="margin-bottom: 2rem;">
                            Un email de confirmation a √©t√© envoy√© √† votre adresse.
                        </p>
                        <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; border-left: 4px solid var(--success);">
                            <p style="margin: 0; color: var(--text-secondary); line-height: 1.6;">
                                <strong>Prochaine √©tape :</strong><br>
                                V√©rifie ta bo√Æte mail et clique sur le lien de confirmation pour activer ton compte.
                            </p>
                        </div>
                        <button type="button" class="btn-submit" id="closeModalAfterSignup">
                            Fermer
                        </button>
                    </div>

                    <!-- ERROR - Erreur g√©n√©rique -->
                    <div class="signup-error-box" id="signupError">
                        <div class="error-icon"></div>
                        <h2 class="modal-title" style="color: var(--error);">Une erreur est survenue</h2>
                        <p class="modal-subtitle" style="margin-bottom: 2rem;">
                            Impossible de cr√©er ton compte pour le moment.
                        </p>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                            R√©essaie plus tard ou contacte le support si le probl√®me persiste.
                        </p>
                        <button type="button" class="btn-submit" id="closeModalAfterError">
                            Fermer
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Particles.js Library -->
    <!-- D√âSACTIV√â - Conflit avec Aurora et Dark/Light Mode
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    -->

    <script type="module" src="./public/js/index-page.js"></script>
</body>
</html>
